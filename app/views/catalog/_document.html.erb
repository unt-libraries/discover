<%# container for a single doc -%>
<% doc_presenter = index_presenter(document) %>

<%= tag.article class: "document row #{render_document_class document} document-position-#{document_counter} ",
                data: {
                    document_counter: document_counter,
                    doc_id: document[:id],
                }.merge(document.identifier_data),
                "itemscope": true,
                "itemtype": document.itemtype do -%>
  <%# image or icon for item %>
  <div class="thumbnail-wrapper d-none d-lg-block col-auto" aria-hidden="true">
    <%= render_document_partial document, 'thumbnail' %>
  </div>

  <div class="col">
    <%= render_document_partials document, ['index_header', 'index'], document_counter: document_counter %>
  </div>

  <%# Availability info %>
  <% if doc_presenter.fields_to_render.any? { |name, f| f[:display] == :availability && should_render_index_field?(document, f) } -%>
    <div class="container pt-3">
      <%= render_document_partial document, 'index_availability' %>
    </div>
  <% end %>

  <%# Actions to appear at the bottom of each result %>
  <div class="container pt-3">
    <%= render_document_partial document, 'index_actions' %>
  </div>
<% end -%>
