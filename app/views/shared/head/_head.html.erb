<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preconnect for assets -->
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://lgapi-us.libapps.com" rel="preconnect" crossorigin>
  <link href="https://books.google.com" rel="preconnect" crossorigin>

  <!-- Metadata -->
  <title><%= render_page_title %></title>
  <%= render '/shared/head/meta_tags' %>
  <%= opensearch_description_tag application_name, opensearch_catalog_url(format: 'xml') %>
  <meta name="google" content="notranslate">
  <meta name="google-site-verification" content="OwynCvJj6eU9FfLBLGGhNEvTjTXLLzcSdsFSSzSacMA" />

  <!-- Fonts -->
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,800;1,400&family=Oswald:wght@300;400&subset=latin-ext&display=swap"
        media="print"
        onload="this.media='all'; this.onload=null;">
  <noscript>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,800;1,400&family=Oswald:wght@300;400&subset=latin-ext&display=swap">
  </noscript>

  <!-- Priority font icons -->
  <style>
    <%= render '/shared/www/head/head.styles.fontawesome.css' %>
  </style>
  <script>
    FontAwesomeConfig = {
      mutateApproach: 'sync'
    }
  </script>

  <!-- CSS -->
  <%= stylesheet_packs_with_chunks_tag "priority", "base", media: "all", 'data-turbolinks-track': 'reload' %>

  <!-- Head scripts -->
  <%= javascript_packs_with_chunks_tag 'priority', 'icons', 'data-turbolinks-track': 'reload', async: true %>

  <%= content_for :head_scripts %>
  <% content_for(:head_scripts) do %>
    <%= javascript_packs_with_chunks_tag 'base', 'data-turbolinks-track': 'reload', defer: true %>
  <% end %>

  <!-- Favicons -->
  <%= favicon_pack_tag 'media/images/icons/favicon.ico', rel: 'icon', sizes: '16x16' %>
  <%= favicon_pack_tag 'media/images/icons/favicon.svg', rel: 'icon', type: 'image/svg+xml' %>
  <%= favicon_pack_tag 'media/images/icons/apple-touch-icon.png', rel: 'apple-touch-icon', sizes: '180x180' %>

  <%= csrf_meta_tags %>

  <%= content_for(:head) %>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=<%= Rails.application.credentials[Rails.env.to_sym][:google_analytics] %>"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', '<%= Rails.application.credentials[Rails.env.to_sym][:google_analytics] %>');
  </script>

  <!-- Additional scripts -->
  <%= render 'shared/www/footer/scripts' %>
</head>
