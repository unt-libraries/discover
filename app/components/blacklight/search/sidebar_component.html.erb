<search id="facets" class="facets sidenav facets-toggleable-lg">

  <div class="navbar">
    <div class="container">
      <h2 class="facets-heading">
        <%= t('blacklight.search.facets.title') %>
      </h2>

      <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#facet-panel-collapse" aria-controls="facet-panel-collapse" aria-expanded="false" aria-label="Toggle filters">
        <i class="fal fa-sliders-v"></i>
      </button>
    </div>
  </div>

  <div id="facet-panel-collapse" class="facets-collapse collapse">
    <% facet_group_names.each do |groupname| %>
      <% fields = facet_fields_in_group(groupname) %>
      <%= render group_component_class.new(id: groupname, fields: fields, response: response) do |component| %>
        <% component.with_body do %>
          <%= render Blacklight::FacetComponent.with_collection(fields, response: response) %>
        <% end %>
      <% end %>
    <% end %>
  </div>
</search>
