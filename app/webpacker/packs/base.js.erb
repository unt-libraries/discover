// Script files that should be included in all pages
import 'core-js/stable';
import 'regenerator-runtime/runtime';
import Rails from '@rails/ujs';
import Turbolinks from 'turbolinks';
import 'jquery'
import 'popper.js'
import 'bootstrap'
import '../src/javascripts/www/_main';
import '../src/javascripts/www/_typeaheads';
import { initTooltips, initPopovers } from "../src/javascripts/_ui";
import './base.scss';

document.addEventListener("DOMContentLoaded", () => {
  Rails.start();
  Turbolinks.start();
});

document.addEventListener('turbolinks:load', () => {
  initTooltips();
  initPopovers();
});

// Modal manually imported, otherwise isn't available for blacklight modal
import 'bootstrap/js/dist/modal';

import 'blacklight-frontend/app/javascript/blacklight/core';
import 'blacklight-frontend/app/javascript/blacklight/autocomplete';
import 'blacklight-frontend/app/javascript/blacklight/checkbox_submit';
import 'blacklight-frontend/app/javascript/blacklight/modal';
//import 'blacklight-frontend/app/javascript/blacklight/bookmark_toggle';
import 'blacklight-frontend/app/javascript/blacklight/button_focus';
// Disabled import of facet_load to avoid doResizeFacetLabelsAndCounts function,
// but leaving reference because we may import again in the future.
// import 'blacklight-frontend/app/javascript/blacklight/facet_load';

// Import overridden search_context for google analytics
import '../src/javascripts/override/search_context';
